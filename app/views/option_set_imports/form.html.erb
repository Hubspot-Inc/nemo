<%= elmo_form_for(@option_set_import, :html => {:multipart => true}) do |f| %>
  <p class="instructions"><%= simple_format(t('option_set_import.instructions_html', url: template_option_set_imports_path(format: 'xlsx')), { }, :sanitize => false) %></p>
  <div id="file-uploader">
    <%= hidden_field_tag(:temp_file_path, "", id: "temp_file_path") %>
    <%= hidden_field_tag(:original_filename, "", id: "original_filename") %>

    <div id="dropzone-file-uploader" class="dropzone no-thumb">
      <div class="dz-message">
        <span class="message"><%= t("common.file_drop_message") %>&nbsp;</span>
      </div>
    </div>
    <div class="dz-error-msg"></div>
  </div>
  <div class="submit-buttons">
    <%= f.submit(t("common.import"), class: "btn btn-primary") %>
    <%= render("file_upload/upload_in_progress_button", single_file: true) %>
  </div>
<% end %>

<%= javascript_doc_ready do %>
  ELMO.fileUploaderManager = new ELMO.Views.FileUploaderManager({el: "#new_option_set_import"});
  options = <%=json(
    el: "#file-uploader",
    zoneId: "#dropzone-file-uploader",
    genericThumbPath: nil,
    postPath: "#{option_set_imports_path}/upload",
    previewTemplate: render("file_upload/dropzone_preview"),
    paramName: "file_import",
    acceptedFileFormats: ".xlsx, .csv",
  )%>
  options.listener = ELMO.fileUploaderManager;
  new ELMO.Views.FileUploaderView(options);
<% end %>
