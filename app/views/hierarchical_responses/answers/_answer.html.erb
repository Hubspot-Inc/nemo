<% mode = read_only ? "read_only" : "editable" %>
<div class="answer form-field answer_field qtype_<%= answer.qtype.name %>
  <%= read_only ? "read-only" : "editable" %> <%= answer.lengthy? ? "lengthy" : "" %>">

  <% unless read_only %>
    <%= hidden_field_tag input_name(path + ["id"]), answer.id %>
    <%= hidden_field_tag input_name(path + ["type"]), "Answer" %>
    <%= hidden_field_tag input_name(path + ["questioning_id"]), answer.questioning_id %>
  <% end %>

  <%= render("hierarchical_responses/answers/answer_info", node: answer) %>

  <div class="control">
    <%= render("hierarchical_responses/answers/single_#{mode}", answer: answer, path: path) %>
  </div>
</div>
